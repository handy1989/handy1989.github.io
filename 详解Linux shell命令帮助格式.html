<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="littlewhite" />
        <meta name="copyright" content="littlewhite" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="shell, Skill, " />

<meta property="og:title" content="详解Linux shell命令帮助格式 "/>
<meta property="og:url" content="/详解Linux shell命令帮助格式.html" />
<meta property="og:description" content="linux shell命令通常可以通过-h或--help来打印帮助说明，或者通过man命令来查看帮助，有时候我们也会给自己的程序写简单的帮助说明，其实帮助说明格式是有规律可循的 帮助示例¶ 下面是git reset命令的帮助说明，通过man git-reset可以查看 git reset [-q] [&lt;tree-ish&gt;] [--] &lt;paths&gt;... git reset (--patch | -p) [&lt;tree-ish&gt;] [--] [&lt;paths&gt;...] git reset [--soft | --mixed | --hard | --merge | --keep] [-q] [&lt;commit&gt;] 对于命令和参数大致有如下几种类型 没有任何修饰符参数 : 原生参数 &lt;&gt; : 占位参数 [] : 可选组合 () : 必选组合 | : 互斥参数 ... : 可重复指定前一个参数 -- : 标记后续参数类型 下面来一一介绍 参数类型解读¶ 原生参数 ..." />
<meta property="og:site_name" content="LittleWhite" />
<meta property="og:article:author" content="littlewhite" />
<meta property="og:article:published_time" content="2017-01-14T00:00:00+08:00" />
<meta property="" content="2017-01-14T00:00:00+08:00" />
<meta name="twitter:title" content="详解Linux shell命令帮助格式 ">
<meta name="twitter:description" content="linux shell命令通常可以通过-h或--help来打印帮助说明，或者通过man命令来查看帮助，有时候我们也会给自己的程序写简单的帮助说明，其实帮助说明格式是有规律可循的 帮助示例¶ 下面是git reset命令的帮助说明，通过man git-reset可以查看 git reset [-q] [&lt;tree-ish&gt;] [--] &lt;paths&gt;... git reset (--patch | -p) [&lt;tree-ish&gt;] [--] [&lt;paths&gt;...] git reset [--soft | --mixed | --hard | --merge | --keep] [-q] [&lt;commit&gt;] 对于命令和参数大致有如下几种类型 没有任何修饰符参数 : 原生参数 &lt;&gt; : 占位参数 [] : 可选组合 () : 必选组合 | : 互斥参数 ... : 可重复指定前一个参数 -- : 标记后续参数类型 下面来一一介绍 参数类型解读¶ 原生参数 ...">

        <title>详解Linux shell命令帮助格式  · LittleWhite
</title>
        <!-- 
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        --!>
        <link href="/theme/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>LittleWhite</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/详解Linux shell命令帮助格式.html"> 详解Linux shell命令帮助格式  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#_1">帮助示例</a></li>
<li><a href="#_2">参数类型解读</a><ul>
<li><a href="#_3">原生参数</a></li>
<li><a href="#_4">占位参数</a></li>
<li><a href="#_5">可选组合</a></li>
<li><a href="#_6">必选组合</a></li>
<li><a href="#_7">互斥参数</a></li>
<li><a href="#_8">重复参数</a></li>
<li><a href="#_9">标记后续参数类型</a></li>
</ul>
</li>
<li><a href="#_10">解读实战</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<p>linux shell命令通常可以通过<code>-h</code>或<code>--help</code>来打印帮助说明，或者通过man命令来查看帮助，有时候我们也会给自己的程序写简单的帮助说明，其实帮助说明格式是有规律可循的</p>
<h2 id="_1">帮助示例<a class="headerlink" href="#_1" title="Permanent link">¶</a></h2>
<p>下面是<code>git reset</code>命令的帮助说明，通过<code>man git-reset</code>可以查看</p>
<div class="highlight"><pre><span></span>git reset [-q] [&lt;tree-ish&gt;] [--] &lt;paths&gt;...
git reset (--patch | -p) [&lt;tree-ish&gt;] [--] [&lt;paths&gt;...]
git reset [--soft | --mixed | --hard | --merge | --keep] [-q] [&lt;commit&gt;]
</pre></div>
<p>对于命令和参数大致有如下几种类型</p>
<div class="highlight"><pre><span></span>没有任何修饰符参数 : 原生参数
&lt;&gt;  : 占位参数
[]  : 可选组合
()  : 必选组合
|   : 互斥参数
... : 可重复指定前一个参数
--  : 标记后续参数类型
</pre></div>
<p>下面来一一介绍</p>
<h2 id="_2">参数类型解读<a class="headerlink" href="#_2" title="Permanent link">¶</a></h2>
<h3 id="_3">原生参数<a class="headerlink" href="#_3" title="Permanent link">¶</a></h3>
<p>说明文档里的字符即为命令需要使用的字符，比如以上命令的</p>
<div class="highlight"><pre><span></span>git reset
</pre></div>
<p>这种参数在使用时必需指定，且和说明文档里的一致</p>
<h3 id="_4">占位参数<a class="headerlink" href="#_4" title="Permanent link">¶</a></h3>
<p>表示方式：<code>&lt;&gt;</code></p>
<p>和原生参数类似，都是必需指定的，只不过占位参数的实际字符是在使用时指定的，同时为了方便阅读会用一个描述词汇来表示，并以<code>&lt;&gt;</code>包围，比如</p>
<div class="highlight"><pre><span></span>&lt;paths&gt;
</pre></div>
<p>表示路径，使用时可以指定为具体的路径，而paths只是起一个说明作用，有些帮助说明里也会用大写来表示占位参数，比如将以上参数说明写成<code>PATHS</code></p>
<h3 id="_5">可选组合<a class="headerlink" href="#_5" title="Permanent link">¶</a></h3>
<p>表示方式： <code>[]</code></p>
<p>括号里的参数为可选参数，比如usage第二个里面的<code>[-q]</code>，则<code>-q</code>为可选参数</p>
<p>可选项和占位参数也可以同时使用，如</p>
<div class="highlight"><pre><span></span>[&lt;commit&gt;]
</pre></div>
<p>表示该参数可以指定某次提交，也可以不指定</p>
<h3 id="_6">必选组合<a class="headerlink" href="#_6" title="Permanent link">¶</a></h3>
<p>表示方式: <code>()</code></p>
<p>括号里的参数必需指定，通常里面会是一些互斥参数，比如</p>
<div class="highlight"><pre><span></span>(--patch | -p)
</pre></div>
<p>表示<code>--patch</code>和<code>-p</code>这两个参数必需指定一个</p>
<h3 id="_7">互斥参数<a class="headerlink" href="#_7" title="Permanent link">¶</a></h3>
<p>表示方式: <code>|</code></p>
<p>互斥参数一般都在<code>()</code>和<code>[]</code>里，表示该参数只能指定其中一个，比如</p>
<div class="highlight"><pre><span></span>[--mixed | --soft | --hard | --merge | --keep]
</pre></div>
<h3 id="_8">重复参数<a class="headerlink" href="#_8" title="Permanent link">¶</a></h3>
<p>表示方式: <code>...</code></p>
<p>表示前一个参数可以被指定多个，比如</p>
<div class="highlight"><pre><span></span>&lt;paths&gt;...
</pre></div>
<p><code>&lt;paths&gt;</code>是一个占位参数，使用时必需指定为路径，<code>...</code>并表示可以指定多个路径。重复参数的一个典型使用场景就是移动文件，将多个文件移动到一个目录下，比如如下命令</p>
<div class="highlight"><pre><span></span>git mv [&lt;options&gt;] &lt;source&gt;... &lt;destination&gt;
</pre></div>
<p>我们可以这样使用</p>
<div class="highlight"><pre><span></span>git mv -f a.cpp b.py dir
</pre></div>
<p>此时options对应为<code>-f</code>参数，source对应为<code>a.cpp b.py</code>，destination对应为<code>dir</code></p>
<h3 id="_9">标记后续参数类型<a class="headerlink" href="#_9" title="Permanent link">¶</a></h3>
<p>表示方式: <code>--</code></p>
<p>表示后续参数的某种类型，比如这里如果使用如下命令</p>
<div class="highlight"><pre><span></span>git reset -p -- xx
</pre></div>
<p>对比第一个命令，这里的xx对应的应该是<code>&lt;paths&gt;</code>参数，当我们指定<code>--</code>之后，则git会认为xx就是一个路径，那怕它是特殊符号或者路径并不存在。这是shell命令的一个通用方式，比如我们有一个文件名为<code>-h</code>，如果想删除这个文件，执行</p>
<div class="highlight"><pre><span></span>rm -h
</pre></div>
<p>肯定是无法删除的，因为这时-h会被认为是rm的一个参数选项，应该使用</p>
<div class="highlight"><pre><span></span>rm -- -h
</pre></div>
<p>这时shell会将-h解释为一个文件名传递给rm命令</p>
<h2 id="_10">解读实战<a class="headerlink" href="#_10" title="Permanent link">¶</a></h2>
<p>最后来解释一个比较复杂的帮助说明</p>
<div class="highlight"><pre><span></span>git cat-file (-t [--allow-unknown-type]|-s [--allow-unknown-type]|-e|-p|&lt;type&gt;|--textconv) &lt;object&gt;
</pre></div>
<p>该命令参数由四个部分，其中<code>git</code>和<code>cat-file</code>为原生参数，<code>()</code>里的为可选组合，<code>&lt;object&gt;</code>为占位参数</p>
<p>组合又由6部分组成，为互斥关系</p>
<div class="highlight"><pre><span></span>-t [--allow-unknown-type]
-s [--allow-unknown-type]
-e
-p
&lt;type&gt;
--textconv
</pre></div>
<p>因此该命令的帮助说明可以拆分如下</p>
<div class="highlight"><pre><span></span>git cat-file -t &lt;object&gt;
git cat-file -t --allow-unknown-type &lt;object&gt;
git cat-file -s &lt;object&gt;
git cat-file -s --allow-unknown-type &lt;object&gt;
git cat-file -e &lt;object&gt;
git cat-file -p &lt;object&gt;
git cat-file &lt;type&gt; &lt;object&gt;
git cat-file --textconv &lt;object&gt;
</pre></div>
            
            
            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="/gtest.html" title="Previous: gtest">gtest</a></li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <table class="table">
            <!-- <time pubdate="pubdate" datetime="2017-01-14T00:00:00+08:00"> 1 14, 2017</time> -->
            <tr>
                <td>Published</td>
                <td><time pubdate="pubdate" datetime="2017-01-14T00:00:00+08:00">2017- 1-14</time></td>
            </tr>
            <tr>
                <td>Category</td>
                <td><a class="category-link" href="/categories.html#skill-ref">Skill</a></td>
            </tr>
            <tr>
                <td>Tags</td>
                <td>
                    <ul class="list-of-tags tags-in-article">
                        <li><a href="/tags.html#shell-ref">shell
                            <span>4</span>
</a></li>
                    </ul>
                </td>
            </tr>
            </table>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <!--
        <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        -->
        <script src="/theme/js/jquery.min.js"></script>
        <script src="/theme/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>
        <script>
            $("div.article-content table").addClass("table table-hover");
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>