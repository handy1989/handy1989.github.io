<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="littlewhite" />
        <meta name="copyright" content="littlewhite" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="vim, c++, Skill, " />

<meta property="og:title" content="Vim c++开发环境插件安装详解 "/>
<meta property="og:url" content="/Vim c++开发环境插件安装详解.html" />
<meta property="og:description" content="C/C++是使用比例最高的程序语言，而vim是专为程序员开发的编辑器，当这两者结合起来，会给我们带来怎样的效果呢。 对于windows上做C++开发的用户来说，vs为他们做了大量的工作，语法高亮、自动缩进、智能提示等等，当你happy的使用vs时，请记住一点，这是一个收费软件，虽然在我大中华普遍都在使用微软的盗版软件，但作为程序员我们心里应该知道这是不对的行为，然后再去——等等，我们今天讨论的不是这个话题，我们要说的是Linux下的免费软件vim！ vim插件安装的教程在互联网上已经数不胜数，但是质量也参差不齐，很多都是在其它地方转载copy，而且没有注明使用环境，很多人安装时发现无法work，最后搞得一团糟，今天这篇文章的宗旨只有两个：1、使得安装简单；2、保证可以用。 阅读这篇文章的前提是你至少使用过vim，知道基本的操作。下面就开始进入主题。 安装环境¶ CentOS release 6.3 (Final) VIM 7.2 本文的插件安装均在以上环境中进行，顺带也会提一下其它平台的安装方式。 准备工作¶ 由于大多数vim插件都可以在github上找到，而且通过git安装、删除 ..." />
<meta property="og:site_name" content="LittleWhite" />
<meta property="og:article:author" content="littlewhite" />
<meta property="og:article:published_time" content="2014-09-02T00:00:00+08:00" />
<meta name="twitter:title" content="Vim c++开发环境插件安装详解 ">
<meta name="twitter:description" content="C/C++是使用比例最高的程序语言，而vim是专为程序员开发的编辑器，当这两者结合起来，会给我们带来怎样的效果呢。 对于windows上做C++开发的用户来说，vs为他们做了大量的工作，语法高亮、自动缩进、智能提示等等，当你happy的使用vs时，请记住一点，这是一个收费软件，虽然在我大中华普遍都在使用微软的盗版软件，但作为程序员我们心里应该知道这是不对的行为，然后再去——等等，我们今天讨论的不是这个话题，我们要说的是Linux下的免费软件vim！ vim插件安装的教程在互联网上已经数不胜数，但是质量也参差不齐，很多都是在其它地方转载copy，而且没有注明使用环境，很多人安装时发现无法work，最后搞得一团糟，今天这篇文章的宗旨只有两个：1、使得安装简单；2、保证可以用。 阅读这篇文章的前提是你至少使用过vim，知道基本的操作。下面就开始进入主题。 安装环境¶ CentOS release 6.3 (Final) VIM 7.2 本文的插件安装均在以上环境中进行，顺带也会提一下其它平台的安装方式。 准备工作¶ 由于大多数vim插件都可以在github上找到，而且通过git安装、删除 ...">

        <title>Vim c++开发环境插件安装详解  · LittleWhite
</title>
        <!-- 
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        --!>
        <link href="/theme/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>LittleWhite</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/Vim c++开发环境插件安装详解.html"> Vim c++开发环境插件安装详解  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#_1">安装环境</a></li>
<li><a href="#_2">准备工作</a></li>
<li><a href="#_3">第一个插件</a></li>
<li><a href="#auto-pairs">auto-pairs</a></li>
<li><a href="#nerdtree">NERDTree</a></li>
<li><a href="#minibufexplorer">MiniBufExplorer</a></li>
<li><a href="#ctagstaglistomnicppcomplete">ctags+taglist+omnicppcomplete</a><ul>
<li><a href="#ctags">ctags</a></li>
<li><a href="#taglist">taglist</a></li>
<li><a href="#omnicppcomplete">OmniCppComplete</a></li>
<li><a href="#supertab">SuperTab</a></li>
</ul>
</li>
<li><a href="#_4">最终的配置文件</a></li>
<li><a href="#_5">总结</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<blockquote>
<p>C/C++是使用比例最高的程序语言，而vim是专为程序员开发的编辑器，当这两者结合起来，会给我们带来怎样的效果呢。</p>
</blockquote>
<p>对于windows上做C++开发的用户来说，vs为他们做了大量的工作，语法高亮、自动缩进、智能提示等等，当你happy的使用vs时，请记住一点，这是一个收费软件，虽然在我大中华普遍都在使用微软的盗版软件，但作为程序员我们心里应该知道这是不对的行为，然后再去——等等，我们今天讨论的不是这个话题，我们要说的是Linux下的免费软件vim！</p>
<p>vim插件安装的教程在互联网上已经数不胜数，但是质量也参差不齐，很多都是在其它地方转载copy，而且没有注明使用环境，很多人安装时发现无法work，最后搞得一团糟，今天这篇文章的宗旨只有两个：1、使得安装简单；2、保证可以用。</p>
<p>阅读这篇文章的前提是你至少使用过vim，知道基本的操作。下面就开始进入主题。</p>
<h2 id="_1">安装环境<a class="headerlink" href="#_1" title="Permanent link">¶</a></h2>
<ul>
<li>CentOS release 6.3 (Final)</li>
<li>VIM 7.2</li>
</ul>
<p>本文的插件安装均在以上环境中进行，顺带也会提一下其它平台的安装方式。</p>
<h2 id="_2">准备工作<a class="headerlink" href="#_2" title="Permanent link">¶</a></h2>
<p>由于大多数vim插件都可以在github上找到，而且通过git安装、删除、升级插件都异常简单，因此我们需要首先安装git工具，如果不知道git和github，可以先自行Google</p>
<p><strong>centos安装</strong></p>
<div class="highlight"><pre><span></span>sudo yum install git
</pre></div>
<p><strong>ubuntu安装</strong></p>
<div class="highlight"><pre><span></span>sudo apt-get install git
</pre></div>
<p><strong>Mac安装</strong>
由于Mac没有像yum和apt-get一样的包管理工具，需要先安装一个类似的包管理工具，这对于安装一些Linux命令是非常有帮助的</p>
<ol>
<li>
<p>安装包管理工具<a href="http://brew.sh/">homebrew</a></p>
<div class="highlight"><pre><span></span>ruby -e "$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)"
</pre></div>
</li>
<li>
<p>通过brew安装git</p>
<div class="highlight"><pre><span></span>brew install git
</pre></div>
</li>
</ol>
<p>我将本文需要安装的插件和配置文件都放在了github上，如果你不想大费周折的了解每个插件的安装方式，可以直接下载所有插件即可使用，项目地址<a href="https://github.com/handy1989/vim">https://github.com/handy1989/vim</a>，可以按照如下命令备份并一次安装所有插件（注意，从git上下载的vim目录下都是隐藏文件，<code>ls -a</code>可以查看）</p>
<div class="highlight"><pre><span></span>mv ~/.vimrc ~/.vimrcbak
mv ~/.vim ~/.vimbak
git clone https://github.com/handy1989/vim.git
mv vim/.vimrc ~/.vim ~/
</pre></div>
<h2 id="_3">第一个插件<a class="headerlink" href="#_3" title="Permanent link">¶</a></h2>
<p>为了不让插件安装后目录显得凌乱，我们很有必要安装一个管理插件的插件，这样功能的插件有好几个，这里只推荐一个<strong>pathogen</strong></p>
<p><strong>项目地址</strong>
<a href="https://github.com/tpope/vim-pathogen">https://github.com/tpope/vim-pathogen</a></p>
<p><strong>安装</strong>
可以通过git安装，也可以直接下载插件文件，由于这个插件只有一个文件，我们选择后者，而该插件的说明文档上也是用的这种方法。</p>
<div class="highlight"><pre><span></span>mkdir -p ~/.vim/autoload ~/.vim/bundle &amp;&amp; 
curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim
</pre></div>
<p>然后，就没有然后，这个插件就安装完了。是不是觉得so easy! 不过先别急，我们还要对插件进行一些配置，用vim打开~/.vimrc，输入如下三行类容</p>
<div class="highlight"><pre><span></span>execute pathogen#infect()
syntax on
filetype plugin indent on
</pre></div>
<p>保存退出，这个插件的安装配置就完成了，怎么验证插件有没有生效呢，别急，后面有的是机会验证。我们先来讲讲vim插件是个什么东西。</p>
<p>此时你的~/.vim目录结构应该是这样的</p>
<div class="highlight"><pre><span></span>├── autoload
│   └── pathogen.vim
└── bundle
</pre></div>
<p>可见~/.vim目录下是有两个目录，其中autoload放的是pathogen插件，所谓的插件其实就是一个脚本，当vim启动时，它会自动加载~/.vim/autoload目录下的脚本，由于你~/.vimrc里配置了<code>execute pathogen#infect()</code>，所以它会去自动的执行脚本里这个函数，至于这个函数是怎么实现的，我们不用管它，总之这个函数的功能就是去加载~/.vim/bundle目录下你安装的所有插件，pathogen的管理方法大致就是这样，而我们也看到，vim的插件其实就是一个脚本文件，丰富一点的还会带有说明文档等其它内容，后面我们碰到了再讲解。</p>
<h2 id="auto-pairs">auto-pairs<a class="headerlink" href="#auto-pairs" title="Permanent link">¶</a></h2>
<p><strong>项目地址</strong>
<a href="https://github.com/jiangmiao/auto-pairs">https://github.com/jiangmiao/auto-pairs</a>（感兴趣的可以看）  </p>
<p><strong>功能</strong>
自动匹配括号、引号等  </p>
<p><strong>安装</strong></p>
<div class="highlight"><pre><span></span>git clone git://github.com/jiangmiao/auto-pairs.git ~/.vim/bundle/auto-pairs
</pre></div>
<p>这样就将auto-pairs在github上的项目文件下载到了~/.vim/bundle/auto-pairs目录下</p>
<p><strong>测试</strong>
随便打开一个文件，输入左括号'('，看右括号是不是自动出现了，然后删除左括号，看右括号是不是也被删除了。当然功能远不止这些，但常用的就这几点。</p>
<h2 id="nerdtree">NERDTree<a class="headerlink" href="#nerdtree" title="Permanent link">¶</a></h2>
<p><strong>项目地址</strong>
<a href="https://github.com/scrooloose/nerdtree">https://github.com/scrooloose/nerdtree</a> </p>
<p><strong>功能</strong>
显示目录树 </p>
<p><strong>安装</strong></p>
<div class="highlight"><pre><span></span>git clone https://github.com/scrooloose/nerdtree.git ~/.vim/bundle
</pre></div>
<p>此时~/.vim/bundle/nerdtree下应该有如下几个目录和文件</p>
<div class="highlight"><pre><span></span>autoload
doc
lib
nerdtree_plugin
plugin
README.markdown
syntax
</pre></div>
<p>这几个目录是vim默认的插件目录，如果我们不是通过pathogen加载插件，就需要在~/.vim目录下创建对应的这几个目录，并将NERDTree对应的文件拷到相应的目录，这样每个目录下会放置多个插件的内容，比如~/.vim/doc下就会放置所有插件的帮组文档，而我们通过pathogen来管理，每个插件的所有内容都放在同一个目录中，比如这里的NERDTree插件的内容我们下载到了~/.vim/bundle/nerdtree下，直接删除这个目录即可删除插件，如果后续插件有更新，在该目录下通过git命令也可以很容易更新到最新版本。<br/>
打开vim，在命令行模式下输入:Helptags载入插件的帮组文档，或者用:helptags help_dir载入指定目录的帮组文档，其中help_dir是你需要加载的插件帮组文档所在的目录，比如这里是~/.vim/bundle/nerdtree/doc</p>
<p><strong>测试</strong>
用vim打开一个文件，在命令行模式下输入:NERDTree，然后回车，窗口左侧就出现了vim工作目录的目录树，如下图所示
<img alt="" src="http://littlewhite.us/pic/nerdtree.png"/> </p>
<p>将光标置于NERDTree窗口，按'?'可查看帮助，NERDTree的操作很简单，通常是将光标置于一个目录/文件上，通过一个按键来操作，下面列出几个常用按键及其对应的操作</p>
<div class="highlight"><pre><span></span>文件相关操作
o  : 在光标所在的上一个窗口打开文件，并将光标置于新打开的窗口
go : 预览文件，光标停留在NERDTree窗口中
t  : 在新标签中打开文件并激活
gt : 在新标签打开文件，光标留在NERDTree窗口中
i  : 水平分割打开文件
gi : 水平分割预览
s  : 垂直分割打开文件
gs : 垂直分割预览

目录树相关操作
o  : 展开/关闭目录
O  : 递归展开目录。慎用，如果目录层级多，打开会很慢
x  : 关闭父目录
C  : 切换光标所在目录为根目录
u  : 切换目录树的根目录为上层目录
U  : 切换目录树的根目录为上层目录，并保持旧的目录树的状态
r  : 刷新当前目录
R  : 刷新当前根目录（这个在新加入文件后会用到）
cd : 切换vim工作目录为光标所在目录（命令模式下:pwd可查看当前工作目录）
</pre></div>
<p>为了方便打开NERDTree，我们可以设置快捷键，打开~/.vimrc，插入如下一行</p>
<div class="highlight"><pre><span></span>map &lt;C-n&gt; :NERDTree&lt;CR&gt;
</pre></div>
<p>这样，当打开vim时，只要输入ctrl+n即可打开NERDTree</p>
<h2 id="minibufexplorer">MiniBufExplorer<a class="headerlink" href="#minibufexplorer" title="Permanent link">¶</a></h2>
<p><strong>项目地址</strong>
<a href="http://www.vim.org/scripts/script.php?script_id=159">http://www.vim.org/scripts/script.php?script_id=159</a></p>
<p><strong>功能</strong>
显示已打开的buffer</p>
<p><strong>安装</strong>
以6.3.2版本为例，根据项目地址可以找到对应版本的下载链接</p>
<div class="highlight"><pre><span></span>mkdir -p ~/.vim/bundle/minibufexplorer/plugin &amp;&amp; wget "http://www.vim.org/scripts/download_script.php?src_id=3640" -O ~/.vim/bundle/minibufexplorer/plugin/minibufexpl.vim
</pre></div>
<p><strong>测试</strong>
用vim打开一个文件，此时看不到minibufexplorer窗口，因为默认是只有一个buffer时不显示窗口的，在命令行模式下通过<code>:vsp filename</code>打开另一个文件（或者用NERDTree浏览打开其它文件），看看此时窗口上方是不是出现了MiniBufExplorer的窗口，如下所示
<img alt="" src="http://littlewhite.us/pic/minibufexplorer.png"/></p>
<p>我们先来解释一下什么叫buffer，vim为每个打开的文件都创建了一个buffer，这个buffer存储在内存中，为了下次打开文件时快速加载，比如我们通过NERDTree浏览并打开了多个文件，即便某些文件你退出了编辑，它的buffer仍旧是存在的，在命令模式下，我们输入<code>:ls</code>可以查看打开的buffer列表，每一行前面的数字对应buffer的编号，通过输入<code>:b N</code>，其中N代表buffer编号，可以打开对应的buffer。对应上面的截图，我们打开了两个文件，此时minibufexplorer窗口显示有两个buffer，即便我们关闭一个文件，这两个buffer仍然存在，将光标移到某个buffer的名称上，回车可打开对应的buffer，按<code>d</code>可删除buffer，具体的操作可以直接阅读插件文件，路径为~/.vim/bundle/minibufexplorer/plugin/minibufexpl.vim</p>
<p><strong>配置</strong>
在~/.vimrc文件中加入如下命令</p>
<div class="highlight"><pre><span></span>let g:miniBufExplMaxSize = 2
</pre></div>
<p>该配置含义为minibufexplorer窗口最大高度为2行，默认是没有上限的，你打开的buffer足够多，一会一直增长下去，为了方便阅读我一般将它设为2，其它配置不怎么用到，需要用的时候可以参考插件文件，并在~/.vimrc中添加配置</p>
<h2 id="ctagstaglistomnicppcomplete">ctags+taglist+omnicppcomplete<a class="headerlink" href="#ctagstaglistomnicppcomplete" title="Permanent link">¶</a></h2>
<p>接下来就到了重磅戏了，前面还只是一些窗口相关的基本操作，是为了方便浏览文件，我们阅读C++代码时希望能快速定位函数、变量，类似于VS等其它IDE提供的功能</p>
<h3 id="ctags">ctags<a class="headerlink" href="#ctags" title="Permanent link">¶</a></h3>
<p>这个并不是插件，而是可执行程序，是用来对代码建索引，方便查找的，有些Linux版本是自带ctags的，如果没有，按如下方式安装</p>
<div class="highlight"><pre><span></span>sudo yum install ctags
</pre></div>
<p>ubuntu安装方式</p>
<div class="highlight"><pre><span></span>sudo apt-get install ctags
</pre></div>
<p>mac也是自带ctags的，但是那个不好用，可以重新安装</p>
<div class="highlight"><pre><span></span>brew install ctags
</pre></div>
<p>如果安装失败，看是不是因为/usr/bin/ctags文件已经存在，可以先mv走，然后再执行</p>
<p>创建索引：在你代码的根目录执行如下命令，会生成一个tags文件，此时在代码根目录下打开一个文件（vim默认只加载工作目录下的tags文件），将光标置于一个函数或结构体名字上，按<code>ctr+]</code>即可跳转到该名称的定义处，如果出现多个选项，可以输入编号选择对应跳转的地方，按<code>ctr+o</code>可回到光标之前的位置</p>
<div class="highlight"><pre><span></span>ctags -R --sort=yes --c++-kinds=+p --fields=+iaS --extra=+q --language-force=C++
</pre></div>
<h3 id="taglist">taglist<a class="headerlink" href="#taglist" title="Permanent link">¶</a></h3>
<p>taglist是vim的一个插件，可以将代码内的函数、变量等按规律列出来，方便查找</p>
<p><strong>下载地址</strong>
<a href="http://www.vim.org/scripts/script.php?script_id=273">http://www.vim.org/scripts/script.php?script_id=273</a>，或者直接按如下方式下载并安装</p>
<div class="highlight"><pre><span></span>cd ~/.vim/bundle &amp;&amp; wget "http://www.vim.org/scripts/download_script.php?src_id=19574" -O taglist.zip &amp;&amp; unzip taglist.zip -d taglist
</pre></div>
<p>这样就生成了~/.vim/bundle/taglist目录，该目录的结构为</p>
<div class="highlight"><pre><span></span>taglist
├── doc
│   └── taglist.txt
└── plugin
    └── taglist.vim
</pre></div>
<p>其中plugin目录下为插件文件，doc目录下为说明文档。打开vim，在命令行模式下输入<code>:helptags ~/.vim/bundle/taglist/doc</code>可以加载说明文档，然后输入<code>help taglist.txt</code>则可以显示说明文档</p>
<p><strong>配置</strong>
打开~/.vimrc，输入如下内容</p>
<div class="highlight"><pre><span></span>let Tlist_Show_One_File=1    “ 只展示一个文件的taglist
let Tlist_Exit_OnlyWindow=1  “ 当taglist是最后以个窗口时自动退出
let Tlist_Use_Right_Window=1 " 在右边显示taglist窗口
let Tlist_Sort_Type="name"   “ tag按名字排序
</pre></div>
<p>这几行配置看名字就能知道什么意思，引号后边是说明，在vim配置文件里，双引号代表注释，类似于C语言里的/</p>
<p><strong>测试</strong>
打开一个文件，在命令行模式下输入<code>:TlistToggle</code>即可显示taglist窗口，配合NERDTree一起效果如下
<img alt="" src="http://littlewhite.us/pic/taglist.png"/></p>
<h3 id="omnicppcomplete">OmniCppComplete<a class="headerlink" href="#omnicppcomplete" title="Permanent link">¶</a></h3>
<p>这是一个对C++进行语法补全的插件，可以对函数、命名空间、类成员等进行补全，使用起来和绝大多数IDE差不多，不一样的是IDE为你做了很多你不知道的事情，而omni补全需要依赖tags文件，需要你用ctags命令自己生成</p>
<p><strong>下载地址</strong>
<a href="http://www.vim.org/scripts/script.php?script_id=1520">http://www.vim.org/scripts/script.php?script_id=1520</a><br/>
也可用如下命令直接下载并安装</p>
<div class="highlight"><pre><span></span>cd ~/.vim/bundle &amp;&amp; wget "http://www.vim.org/scripts/download_script.php?src_id=7722" -O omnicppcomplete.zip &amp;&amp; unzip omnicppcomplete.zip -d omnicppcomplete
</pre></div>
<p>该命令会生成~/.vim/bundle/omnicppcomplete目录，目录结构为</p>
<div class="highlight"><pre><span></span>├── after
│   └── ftplugin
│       ├── cpp.vim
│       └── c.vim
├── autoload
│   └── omni
│       ├── common
│       │   ├── debug.vim
│       │   └── utils.vim
│       └── cpp
│           ├── complete.vim
│           ├── includes.vim
│           ├── items.vim
│           ├── maycomplete.vim
│           ├── namespaces.vim
│           ├── settings.vim
│           ├── tokenizer.vim
│           └── utils.vim
└── doc
    └── omnicppcomplete.txt
</pre></div>
<p>打开vim，在命令行模式下输入<code>:helptags ~/.vim/bundle/omnicppcomplete/doc</code>即可加载说明文档，输入<code>:help omnicppcomplete</code>查看说明文档</p>
<p><strong>配置</strong>
打开~/.vimrc文件，输入</p>
<div class="highlight"><pre><span></span>filetype plugin indent on
set completeopt=longest,menu
let OmniCpp_NamespaceSearch = 2     " search namespaces in the current buffer   and in included files
let OmniCpp_ShowPrototypeInAbbr = 1 " 显示函数参数列表
let OmniCpp_MayCompleteScope = 1    " 输入 :: 后自动补全
let OmniCpp_DefaultNamespaces = ["std", "_GLIBCXX_STD"]
</pre></div>
<p><strong>测试</strong>
前面说过，omni插件的补全是依赖于tags文件的，因此需要我们手动建立tags文件，假设现在有两个文件hello.h和hello.cpp如下
<img alt="" src="http://littlewhite.us/pic/omni_hello.png"/><br/>
我们在和这两个文件所在的目录输入</p>
<div class="highlight"><pre><span></span>ctags -R --sort=yes --c++-kinds=+p --fields=+iaS --extra=+q --language-force=C++
</pre></div>
<p>这样就生成了tags文件，然后我们打开main.cpp来测试，当输入hello.h和hello.cpp中的函数或结构体时，通过按<code>ctr+x ctr+o</code>就可以自动补全了，效果如下</p>
<p><img alt="" src="http://littlewhite.us/pic/omni_main.png"/> </p>
<p>通过按ctr+n和ctr+p可以对候选项进行上下选择。通过这种方式可以实现对函数、结构体的补全</p>
<p><strong>对STL补全</strong>
上面的方式只能对自己的代码进行补全，是当我们要使用其它库比如STL甚至是第三方库时就无法补全，原因很简单，我们只对自己的代码建立了tags文件，想要对其它库进行补全，就必须对它们的源代码建立tags文件，所幸的是vim的插件编写者们早已解决了这个需求，并且他们专门针对STL头文件进行了修改，以便能更好的适应omni的补全，首先下载STL源代码，地址为<a href="http://www.vim.org/scripts/script.php?script_id=2358">http://www.vim.org/scripts/script.php?script_id=2358</a>，可通过如下命令下载并解压</p>
<div class="highlight"><pre><span></span>mkdir -p ~/.vim/tags &amp;&amp; cd ~/.vim/tags &amp;&amp; wget "http://www.vim.org/scripts/download_script.php?src_id=9178" -O - | tar jxvf -
</pre></div>
<p>这样就将STL的源码下载到了~/.vim/tags/cpp_src目录下，我们在该目录下执行ctags命令</p>
<div class="highlight"><pre><span></span>ctags -R --sort=yes --c++-kinds=+p --fields=+iaS --extra=+q --language-force=C++
</pre></div>
<p>这样就生成了~/.vim/tags/cpp_src/tags这个文件，然后打开~/.vimrc进行如下设置</p>
<div class="highlight"><pre><span></span>set tags+=~/.vim/tags/cpp_src/tags
</pre></div>
<p>该命令是设置tags文件的搜索路径，默认只有vim工作目录的tags文件，这样设置之后就会同时加载指定目录的tags文件，你可以在后面添加更多其它第三方库的tags文件，现在对STL的补全效果如下
<img alt="" src="http://littlewhite.us/pic/omni_stl.png"/></p>
<p>omnicppcomplete的补全设置虽然麻烦，但也让我们更加清楚了插件是怎样工作的，作为程序员，至少应该对某些东西的工作原理搞清楚，而不是像使用IDE一样不管任何东西，你想自定义一下东西也无从下手。</p>
<p>omnicppcomplete触发补全需要用到<code>ctr+x ctr+o</code>，显然这是不友好的，熟悉Linux命令行的人一定对shell命令的补全印象深刻，只需要按一下TAB键就可以进行补全，vim插件的强大之处在于，它可以实现你几乎所有的需求，想要用TAB键进行补全，就需要用到SuperTab</p>
<h3 id="supertab">SuperTab<a class="headerlink" href="#supertab" title="Permanent link">¶</a></h3>
<p><strong>项目地址</strong>
<a href="https://github.com/ervandew/supertab">https://github.com/ervandew/supertab</a></p>
<p><strong>安装</strong>
使用git进行安装是最方便的</p>
<div class="highlight"><pre><span></span>cd ~/.vim/bundle &amp;&amp; git clone https://github.com/ervandew/supertab.git
</pre></div>
<p><strong>测试</strong>
无需任何配置即可使用，这时你想要补全变量名或函数名只需按一下TAB键即可，出现候选窗口之后也可以用TAB键进行选择，这样是不是方便了很多！<br/>
由于TAB键被映射成了补全快捷键，也就无法通过TAB键直接输入制表符，这时如果想要输入制表符可以通过<code>ctr+v TAB</code>即可，即先输入ctr+v再输入TAB键，在vim下通过ctl+v可以输入很多不可见字符，比如试试<code>ctr+v ctr+w</code></p>
<h2 id="_4">最终的配置文件<a class="headerlink" href="#_4" title="Permanent link">¶</a></h2>
<p>装了这么多插件，在配置文件~/.vimrc里也增添了不少内容，最后你的配置文件至少应该包含以下内容</p>
<div class="highlight"><pre><span></span>set tags+=~/.vim/tags/cpp_src/tags   " 设置tags搜索路径
syntax on
filetype plugin indent on

map &lt;C-n&gt; :NERDTree&lt;CR&gt;

" pathongen
execute pathogen#infect()

" taglist
let Tlist_Show_One_File=1
let Tlist_Exit_OnlyWindow=1
let Tlist_Use_Right_Window=1
let Tlist_Sort_Type="name"

" omnicppcomplete
set completeopt=longest,menu
let OmniCpp_NamespaceSearch = 2     " search namespaces in the current buffer and in included files
let OmniCpp_ShowPrototypeInAbbr = 1 " 显示函数参数列表
let OmniCpp_MayCompleteScope = 1    " 输入 :: 后自动补全
let OmniCpp_DefaultNamespaces = ["std", "_GLIBCXX_STD"]
</pre></div>
<p>这个配置文件全都是和插件相关的配置，你还可以在里面添加其它配置来灵活定制你的vim，由于本文主要介绍插件相关内容，就不展开介绍了</p>
<h2 id="_5">总结<a class="headerlink" href="#_5" title="Permanent link">¶</a></h2>
<p>vim的C++开发环境到此就配好了，总的来说我们安装了这么几类插件</p>
<ol>
<li>管理插件的插件</li>
<li>管理窗口和buffer</li>
<li>语法增强</li>
<li>代码补全</li>
</ol>
<p>通过这些插件我们可以将vim打造成一个好用的IDE，虽然经过了很多周折，但这些功夫都不会白费，一来我们可以通过这些插件了解IDE的一些工作原理，二来通过这些插件的安装我们也更加了解了vim插件的使用方法，有了这些基础，后续如果想满足一些个性化的需求，岂不易哉！</p>
            
            
            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="/店大莫欺人.html" title="Previous: 店大莫欺人">店大莫欺人</a></li>
                <li class="next-article"><a href="/独自下场.html" title="Next: 独自下场">独自下场</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <table class="table">
            <!-- <time pubdate="pubdate" datetime="2014-09-02T00:00:00+08:00"> 9 2, 2014</time> -->
            <tr>
                <td>Published</td>
                <td><time pubdate="pubdate" datetime="2014-09-02T00:00:00+08:00">2014- 9-2</time></td>
            </tr>
            <tr>
                <td>Category</td>
                <td><a class="category-link" href="/categories.html#skill-ref">Skill</a></td>
            </tr>
            <tr>
                <td>Tags</td>
                <td>
                    <ul class="list-of-tags tags-in-article">
                        <li><a href="/tags.html#c-ref">c++
                            <span>14</span>
</a></li>
                        <li><a href="/tags.html#vim-ref">vim
                            <span>3</span>
</a></li>
                    </ul>
                </td>
            </tr>
            </table>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <!--
        <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        -->
        <script src="/theme/js/jquery.min.js"></script>
        <script src="/theme/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>
        <script>
            $("div.article-content table").addClass("table table-hover");
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>